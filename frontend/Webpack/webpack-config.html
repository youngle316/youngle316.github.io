<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webapcké…ç½® | YoungLeçš„åšå®¢</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/favicon.ico">
    <script>
  var _hmt = _hmt || [];
  (function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d87e4e0c080c2c7c4d7316a38a77da04";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);

  // å¼•å…¥è°·æ­Œ,ä¸éœ€è¦å¯åˆ é™¤è¿™æ®µ
  var hm1 = document.createElement("script");
  hm1.src = "https://www.googletagmanager.com/gtag/js?id=UA-131182082-1";
  var s1 = document.getElementsByTagName("script")[0]; 
  s1.parentNode.insertBefore(hm1, s1);
  })();

  // è°·æ­ŒåŠ è½½,ä¸éœ€è¦å¯åˆ é™¤
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131182082-1');
</script>
    <meta name="description" content="è®°å½•å­¦ä¹ è·¯ä¸Šçš„ç‚¹ç‚¹æ»´æ»´">
    <link rel="preload" href="/assets/css/0.styles.d361e2f3.css" as="style"><link rel="preload" href="/assets/js/app.629c6bf2.js" as="script"><link rel="preload" href="/assets/js/2.ad0e66c6.js" as="script"><link rel="preload" href="/assets/js/54.383dbb40.js" as="script"><link rel="prefetch" href="/assets/js/10.c0ffe0b9.js"><link rel="prefetch" href="/assets/js/11.46b40780.js"><link rel="prefetch" href="/assets/js/12.1955cb1b.js"><link rel="prefetch" href="/assets/js/13.f097eff3.js"><link rel="prefetch" href="/assets/js/14.4e129755.js"><link rel="prefetch" href="/assets/js/15.0e71b1ea.js"><link rel="prefetch" href="/assets/js/16.85be98a9.js"><link rel="prefetch" href="/assets/js/17.46f015de.js"><link rel="prefetch" href="/assets/js/18.45e9fbec.js"><link rel="prefetch" href="/assets/js/19.95a74ba6.js"><link rel="prefetch" href="/assets/js/20.56f0e072.js"><link rel="prefetch" href="/assets/js/21.c0b811aa.js"><link rel="prefetch" href="/assets/js/22.be004895.js"><link rel="prefetch" href="/assets/js/23.82eff60c.js"><link rel="prefetch" href="/assets/js/24.b6b60dfa.js"><link rel="prefetch" href="/assets/js/25.d5bb115c.js"><link rel="prefetch" href="/assets/js/26.6c11aa82.js"><link rel="prefetch" href="/assets/js/27.c4cba3ac.js"><link rel="prefetch" href="/assets/js/28.52990931.js"><link rel="prefetch" href="/assets/js/29.6e63a1ee.js"><link rel="prefetch" href="/assets/js/3.c3ea725f.js"><link rel="prefetch" href="/assets/js/30.f68283ba.js"><link rel="prefetch" href="/assets/js/31.cd7b6503.js"><link rel="prefetch" href="/assets/js/32.078e3cc0.js"><link rel="prefetch" href="/assets/js/33.5a459caf.js"><link rel="prefetch" href="/assets/js/34.94c83e7c.js"><link rel="prefetch" href="/assets/js/35.4b213bce.js"><link rel="prefetch" href="/assets/js/36.f5989a74.js"><link rel="prefetch" href="/assets/js/37.dd926546.js"><link rel="prefetch" href="/assets/js/38.4c6f895c.js"><link rel="prefetch" href="/assets/js/39.1cb49a1d.js"><link rel="prefetch" href="/assets/js/4.ac3fc361.js"><link rel="prefetch" href="/assets/js/40.7a87e8f5.js"><link rel="prefetch" href="/assets/js/41.613d39a5.js"><link rel="prefetch" href="/assets/js/42.4ab2e12c.js"><link rel="prefetch" href="/assets/js/43.fc8222f1.js"><link rel="prefetch" href="/assets/js/44.2d3bea1f.js"><link rel="prefetch" href="/assets/js/45.dc246fc9.js"><link rel="prefetch" href="/assets/js/46.c3f86c8c.js"><link rel="prefetch" href="/assets/js/47.8c2c8d66.js"><link rel="prefetch" href="/assets/js/48.5b91a7ec.js"><link rel="prefetch" href="/assets/js/49.abbde903.js"><link rel="prefetch" href="/assets/js/5.8bdee998.js"><link rel="prefetch" href="/assets/js/50.529b4707.js"><link rel="prefetch" href="/assets/js/51.c1763533.js"><link rel="prefetch" href="/assets/js/52.e983b1a9.js"><link rel="prefetch" href="/assets/js/53.3a93daf1.js"><link rel="prefetch" href="/assets/js/55.43d8cf91.js"><link rel="prefetch" href="/assets/js/56.e6b9abcb.js"><link rel="prefetch" href="/assets/js/57.25f621c7.js"><link rel="prefetch" href="/assets/js/58.0b1033a7.js"><link rel="prefetch" href="/assets/js/59.64369cad.js"><link rel="prefetch" href="/assets/js/6.20333e49.js"><link rel="prefetch" href="/assets/js/60.8aa5d351.js"><link rel="prefetch" href="/assets/js/61.a4e16b59.js"><link rel="prefetch" href="/assets/js/62.83617c90.js"><link rel="prefetch" href="/assets/js/63.c8044b1b.js"><link rel="prefetch" href="/assets/js/64.d3bb512a.js"><link rel="prefetch" href="/assets/js/7.3fe3726c.js"><link rel="prefetch" href="/assets/js/8.9fd983d7.js"><link rel="prefetch" href="/assets/js/9.98e3183d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d361e2f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YoungLeçš„åšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯" class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯" class="mobile-dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/interview.html" class="nav-link">
  å‰ç«¯é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/js/deep-copy.html" class="nav-link">
  å‰ç«¯ä¸‰å‰æˆŸ
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ES6/es6-basic.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Webpack/webpack-config.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/typescript-basic-type.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  æ€§èƒ½ä¼˜åŒ–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/Array/26-Remove-Duplicates-from-Sorted-Array.html" class="nav-link">
  æ•°ç»„
</a></li></ul></div></div><div class="nav-item"><a href="/handwriting/" class="nav-link">
  æ‰‹å†™ç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åšå®¢" class="dropdown-title"><span class="title">åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label="åšå®¢" class="mobile-dropdown-title"><span class="title">åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hackintosh/use-hackintool-custom-made-usb3.0.html" class="nav-link">
  é»‘è‹¹æœ
</a></li><li class="dropdown-item"><!----> <a href="/blog/technology/use-hexo-build-blog.html" class="nav-link">
  æŠ€æœ¯
</a></li><li class="dropdown-item"><!----> <a href="/blog/skill/add-eslint-prettier-for-react.html" class="nav-link">
  æŠ€å·§
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/youngle316" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸ªäººé¡¹ç›®" class="dropdown-title"><span class="title">ä¸ªäººé¡¹ç›®</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸ªäººé¡¹ç›®" class="mobile-dropdown-title"><span class="title">ä¸ªäººé¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youngle316/ASRock-Z370M-ITX-AC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Z370-itx Hackintosh
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯" class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯" class="mobile-dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/interview.html" class="nav-link">
  å‰ç«¯é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/js/deep-copy.html" class="nav-link">
  å‰ç«¯ä¸‰å‰æˆŸ
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ES6/es6-basic.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Webpack/webpack-config.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/typescript-basic-type.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  æ€§èƒ½ä¼˜åŒ–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/Array/26-Remove-Duplicates-from-Sorted-Array.html" class="nav-link">
  æ•°ç»„
</a></li></ul></div></div><div class="nav-item"><a href="/handwriting/" class="nav-link">
  æ‰‹å†™ç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åšå®¢" class="dropdown-title"><span class="title">åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label="åšå®¢" class="mobile-dropdown-title"><span class="title">åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hackintosh/use-hackintool-custom-made-usb3.0.html" class="nav-link">
  é»‘è‹¹æœ
</a></li><li class="dropdown-item"><!----> <a href="/blog/technology/use-hexo-build-blog.html" class="nav-link">
  æŠ€æœ¯
</a></li><li class="dropdown-item"><!----> <a href="/blog/skill/add-eslint-prettier-for-react.html" class="nav-link">
  æŠ€å·§
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/youngle316" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸ªäººé¡¹ç›®" class="dropdown-title"><span class="title">ä¸ªäººé¡¹ç›®</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸ªäººé¡¹ç›®" class="mobile-dropdown-title"><span class="title">ä¸ªäººé¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youngle316/ASRock-Z370M-ITX-AC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Z370-itx Hackintosh
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/Webpack/webpack-config.html" aria-current="page" class="active sidebar-link">Webapcké…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/Webpack/webpack-config.html#ä¸€ã€webpackçš„åŸºæœ¬é…ç½®" class="sidebar-link">ä¸€ã€webpackçš„åŸºæœ¬é…ç½®</a></li><li class="sidebar-sub-header"><a href="/frontend/Webpack/webpack-config.html#äºŒã€webpackçš„é«˜çº§é…ç½®" class="sidebar-link">äºŒã€webpackçš„é«˜çº§é…ç½®</a></li><li class="sidebar-sub-header"><a href="/frontend/Webpack/webpack-config.html#ä¸‰ã€module-chunk-bundleçš„åŒºåˆ«" class="sidebar-link">ä¸‰ã€moduleï¼Œchunkï¼Œbundleçš„åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/frontend/Webpack/webpack-config.html#å››ã€webpackçš„æ€§èƒ½ä¼˜åŒ–" class="sidebar-link">å››ã€webpackçš„æ€§èƒ½ä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/frontend/Webpack/webpack-config.html#äº”ã€webpackä¼˜åŒ–äº§å‡ºä»£ç " class="sidebar-link">äº”ã€webpackä¼˜åŒ–äº§å‡ºä»£ç </a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webapcké…ç½®"><a href="#webapcké…ç½®" class="header-anchor">#</a> Webapcké…ç½®</h1> <blockquote><p><code>Webpack</code>ä½œä¸ºå‰ç«¯æ„å»ºçš„ä¸€ä¸ªå·¥å…·ğŸ”§ï¼Œå°±éœ€è¦çŸ¥é“å…¶ä¸€äº›åŸºæœ¬æˆ–é«˜çº§çš„é…ç½®å’Œä¸€äº›å¸¸ç”¨çš„æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ã€‚</p></blockquote> <h2 id="ä¸€ã€webpackçš„åŸºæœ¬é…ç½®"><a href="#ä¸€ã€webpackçš„åŸºæœ¬é…ç½®" class="header-anchor">#</a> ä¸€ã€webpackçš„åŸºæœ¬é…ç½®</h2> <h3 id="æ‹†åˆ†é…ç½®å’Œmerge"><a href="#æ‹†åˆ†é…ç½®å’Œmerge" class="header-anchor">#</a> æ‹†åˆ†é…ç½®å’Œmerge</h3> <p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä¸€èˆ¬ä¼šå°†é…ç½®æ‹†åˆ†æˆ3éƒ¨åˆ†</p> <ul><li><code>webpack.common.js</code>ï¼ˆå…¬å…±éƒ¨åˆ†ï¼‰</li> <li><code>webpack.dev.js</code>ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</li> <li><code>webpack.prod.js</code>ï¼ˆçº¿ä¸Šç¯å¢ƒï¼‰</li></ul> <p>åœ¨æ‰“åŒ…æ„å»ºæ—¶ï¼Œåªéœ€æ·»åŠ å¤šä¸ªå‘½ä»¤å³å¯ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;devBuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config build-base-conf/webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config build-base-conf/webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config build-base-conf/webpack.prod.js&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><code>path.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// å¸¸ç”¨æ–‡ä»¶å¤¹è·¯å¾„</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> srcPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> distPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    srcPath<span class="token punctuation">,</span>
    distPath
<span class="token punctuation">}</span>
</code></pre></div><h4 id="webpack-common-js"><a href="#webpack-common-js" class="header-anchor">#</a> <code>webpack.common.js</code></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> srcPath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./paths'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…¥å£æ–‡ä»¶</span>
    entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                include<span class="token operator">:</span> srcPath<span class="token punctuation">,</span>
                exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                <span class="token comment">// loader çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼šä»åå¾€å‰</span>
                loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">]</span> <span class="token comment">// åŠ äº† postcss</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
                <span class="token comment">// å¢åŠ  'less-loader' ï¼Œæ³¨æ„é¡ºåº</span>
                loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            filename<span class="token operator">:</span> <span class="token string">'index.html'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><a href="https://webpack.docschina.org/plugins/html-webpack-plugin/" target="_blank" rel="noopener noreferrer">HtmlWebpackPlugin<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://webpack.docschina.org/concepts/entry-points/" target="_blank" rel="noopener noreferrer">entry<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://webpack.docschina.org/concepts/loaders/" target="_blank" rel="noopener noreferrer">loader<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://webpack.docschina.org/concepts/plugins/" target="_blank" rel="noopener noreferrer">plugins<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="webpack-dev-js"><a href="#webpack-dev-js" class="header-anchor">#</a> <code>webpack.dev.js</code></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackCommonConf <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> smart <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> distPath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./paths'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">smart</span><span class="token punctuation">(</span>webpackCommonConf<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// ç›´æ¥å¼•å…¥å›¾ç‰‡ url</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|jpeg|gif)$/</span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token string">'file-loader'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// window.ENV = 'development'</span>
            <span class="token constant">ENV</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'development'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
        port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
        progress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// æ˜¾ç¤ºæ‰“åŒ…çš„è¿›åº¦æ¡</span>
        contentBase<span class="token operator">:</span> distPath<span class="token punctuation">,</span>  <span class="token comment">// æ ¹ç›®å½•</span>
        open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
        compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// å¯åŠ¨ gzip å‹ç¼©</span>

        <span class="token comment">// è®¾ç½®ä»£ç†</span>
        proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// å°†æœ¬åœ° /api/xxx ä»£ç†åˆ° localhost:3000/api/xxx</span>
            <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>

            <span class="token comment">// å°†æœ¬åœ° /api2/xxx ä»£ç†åˆ° localhost:3000/xxx</span>
            <span class="token string">'/api2'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                target<span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
                pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token string">'/api2'</span><span class="token operator">:</span> <span class="token string">''</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="webpack-prod-js"><a href="#webpack-prod-js" class="header-anchor">#</a> <code>webpack.prod.js</code></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackCommonConf <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> smart <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> srcPath<span class="token punctuation">,</span> distPath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./paths'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">smart</span><span class="token punctuation">(</span>webpackCommonConf<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
        filename<span class="token operator">:</span> <span class="token string">'bundle.[contentHash:8].js'</span><span class="token punctuation">,</span>  <span class="token comment">// æ‰“åŒ…ä»£ç æ—¶ï¼ŒåŠ ä¸Š hash æˆ³</span>
        path<span class="token operator">:</span> distPath<span class="token punctuation">,</span>
        <span class="token comment">// publicPath: 'http://cdn.abc.com'  // ä¿®æ”¹æ‰€æœ‰é™æ€æ–‡ä»¶ url çš„å‰ç¼€ï¼ˆå¦‚ cdn åŸŸåï¼‰ï¼Œè¿™é‡Œæš‚æ—¶ç”¨ä¸åˆ°</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// å›¾ç‰‡ - è€ƒè™‘ base64 ç¼–ç çš„æƒ…å†µ</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|jpeg|gif)$/</span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token punctuation">{</span>
                    loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
                    options<span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token comment">// å°äº 5kb çš„å›¾ç‰‡ç”¨ base64 æ ¼å¼äº§å‡º</span>
                        <span class="token comment">// å¦åˆ™ï¼Œä¾ç„¶å»¶ç”¨ file-loader çš„å½¢å¼ï¼Œäº§å‡º url æ ¼å¼</span>
                        limit<span class="token operator">:</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>

                        <span class="token comment">// æ‰“åŒ…åˆ° img ç›®å½•ä¸‹</span>
                        outputPath<span class="token operator">:</span> <span class="token string">'/img1/'</span><span class="token punctuation">,</span>

                        <span class="token comment">// è®¾ç½®å›¾ç‰‡çš„ cdn åœ°å€ï¼ˆä¹Ÿå¯ä»¥ç»Ÿä¸€åœ¨å¤–é¢çš„ output ä¸­è®¾ç½®ï¼Œé‚£å°†ä½œç”¨äºæ‰€æœ‰é™æ€èµ„æºï¼‰</span>
                        <span class="token comment">// publicPath: 'http://cdn.abc.com'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ä¼šé»˜è®¤æ¸…ç©º output.path æ–‡ä»¶å¤¹</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// window.ENV = 'production'</span>
            <span class="token constant">ENV</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'production'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="å¯åŠ¨æœ¬åœ°æœåŠ¡"><a href="#å¯åŠ¨æœ¬åœ°æœåŠ¡" class="header-anchor">#</a> å¯åŠ¨æœ¬åœ°æœåŠ¡</h3> <p>å¯åŠ¨æœ¬åœ°æœåŠ¡å®åœ¨å¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ <a href="https://webpack.docschina.org/configuration/dev-server/" target="_blank" rel="noopener noreferrer"><code>webpack-dev-server</code><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚åœ¨ä¸Šé¢çš„<code>dev</code>é…ç½®æ–‡ä»¶ä¸­æœ‰æ·»åŠ <code>devServer</code></p> <h3 id="å¤„ç†es6"><a href="#å¤„ç†es6" class="header-anchor">#</a> å¤„ç†ES6</h3> <p>å¤„ç†ES6ä½¿ç”¨çš„æ˜¯<code>babel-loader</code>ã€‚æ·»åŠ åœ¨å…¬å…±çš„é…ç½®ä¸­ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    include<span class="token operator">:</span> srcPath<span class="token punctuation">,</span>
    exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>ä½¿ç”¨<code>babel-loader</code>éœ€è¦æ·»åŠ ä¸€ä¸ª<code>.babelrc</code>æ–‡ä»¶ã€‚ä¼šåœ¨åé¢è®²åˆ°å…·ä½“é…ç½®ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¤„ç†æ ·å¼æ–‡ä»¶"><a href="#å¤„ç†æ ·å¼æ–‡ä»¶" class="header-anchor">#</a> å¤„ç†æ ·å¼æ–‡ä»¶</h3> <p>å¤„ç†æ ·å¼æ–‡ä»¶éœ€è¦ä½¿ç”¨åˆ°<code>style-loader</code>ï¼Œ<code>css-loader</code>ï¼Œ<code>postcss-loader</code>ã€‚ä¸€èˆ¬æ·»åŠ åœ¨å…¬å…±çš„é…ç½®æ–‡ä»¶ä¸­ã€‚å¦‚æœæœ‰éœ€è¦è¿›è¡Œä¼˜åŒ–çš„ï¼Œå¯ä»¥åˆ†å¼€è¿›è¡Œé…ç½®ï¼Œåé¢ä¼šè®²åˆ°ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
    <span class="token comment">// loader çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼šä»åå¾€å‰</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">]</span> <span class="token comment">// åŠ äº† postcss</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
    <span class="token comment">// å¢åŠ  'less-loader' ï¼Œæ³¨æ„é¡ºåº</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><a href="https://webpack.docschina.org/loaders/postcss-loader/" target="_blank" rel="noopener noreferrer">postcss-loader<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: æµè§ˆå™¨å…¼å®¹æ€§ï¼Œä½¿æµè§ˆå™¨ä¸æ”¯æŒçš„æ ·å¼è¯­æ³•æ”¹ä¸ºæ”¯æŒçš„</p> <p>ä½¿ç”¨<code>postcss-loader</code>éœ€è¦æ·»åŠ ä¸€ä¸ªæ–‡ä»¶é…ç½®<code>postcss.config.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¤„ç†å›¾ç‰‡æ–‡ä»¶"><a href="#å¤„ç†å›¾ç‰‡æ–‡ä»¶" class="header-anchor">#</a> å¤„ç†å›¾ç‰‡æ–‡ä»¶</h3> <p>åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨<code>file-loader</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ç›´æ¥å¼•å…¥å›¾ç‰‡ url</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|jpeg|gif)$/</span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token string">'file-loader'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨çº¿ä¸Šç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨<code>url-loader</code>ï¼Œè€ƒè™‘å›¾ç‰‡å¤§å°ï¼Œè€ƒè™‘ä½¿ç”¨base64ç¼–ç </p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|jpeg|gif)$/</span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// å°äº 5kb çš„å›¾ç‰‡ç”¨ base64 æ ¼å¼äº§å‡º</span>
          <span class="token comment">// å¦åˆ™ï¼Œä¾ç„¶å»¶ç”¨ file-loader çš„å½¢å¼ï¼Œäº§å‡º url æ ¼å¼</span>
          limit<span class="token operator">:</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>

          <span class="token comment">// æ‰“åŒ…åˆ° img1 ç›®å½•ä¸‹</span>
          outputPath<span class="token operator">:</span> <span class="token string">'/img1/'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="header-anchor">#</a> æ¨¡å—åŒ–</h3> <h2 id="äºŒã€webpackçš„é«˜çº§é…ç½®"><a href="#äºŒã€webpackçš„é«˜çº§é…ç½®" class="header-anchor">#</a> äºŒã€webpackçš„é«˜çº§é…ç½®</h2> <h3 id="é…ç½®å¤šå…¥å£"><a href="#é…ç½®å¤šå…¥å£" class="header-anchor">#</a> é…ç½®å¤šå…¥å£</h3> <p>åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯éœ€è¦é…ç½®å¤šå…¥å£çš„ï¼Œå¦‚æœ‰ä¸¤ä¸ªå…¥å£æ–‡ä»¶ä¸º<code>index.js</code>ï¼Œ<code>other.js</code>ã€‚åˆ†åˆ«ä¸ä¹‹å¯¹åº”çš„æ˜¯<code>index.html</code>ï¼Œ<code>other.html</code>æ–‡ä»¶ã€‚</p> <ol><li>ä¿®æ”¹<code>entry</code>å…¥å£ã€‚åœ¨å…¬å…±é…ç½®ä¸­ã€‚</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    index<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'index.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    other<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'other.js'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ol start="2"><li>ä¿®æ”¹å¤šå…¥å£çš„htmlæ–‡ä»¶</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// new HtmlWebpackPlugin({</span>
  <span class="token comment">//     template: path.join(srcPath, 'index.html'),</span>
  <span class="token comment">//     filename: 'index.html'</span>
  <span class="token comment">// })</span>

  <span class="token comment">// å¤šå…¥å£ - ç”Ÿæˆ index.html</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token comment">// chunks è¡¨ç¤ºè¯¥é¡µé¢è¦å¼•ç”¨å“ªäº› chunk ï¼ˆå³ä¸Šé¢çš„ index å’Œ otherï¼‰ï¼Œé»˜è®¤å…¨éƒ¨å¼•ç”¨</span>
    chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span>  <span class="token comment">// åªå¼•ç”¨ index.js</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// å¤šå…¥å£ - ç”Ÿæˆ other.html</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'other.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'other.html'</span><span class="token punctuation">,</span>
    chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'other'</span><span class="token punctuation">]</span>  <span class="token comment">// åªå¼•ç”¨ other.js</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><ol><li>ä¿®æ”¹çº¿ä¸Šé…ç½®çš„è¾“å‡ºçš„æ–‡ä»¶åç§°</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// filename: 'bundle.[contentHash:8].js',  // æ‰“åŒ…ä»£ç æ—¶ï¼ŒåŠ ä¸Š hash æˆ³</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[contentHash:8].js'</span><span class="token punctuation">,</span> <span class="token comment">// name å³å¤šå…¥å£æ—¶ entry çš„ key</span>
    path<span class="token operator">:</span> distPath<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æŠ½ç¦»å‹ç¼©cssæ–‡ä»¶"><a href="#æŠ½ç¦»å‹ç¼©cssæ–‡ä»¶" class="header-anchor">#</a> æŠ½ç¦»å‹ç¼©CSSæ–‡ä»¶</h3> <p>åœ¨ä¸Šé¢ğŸ‘†è®²åˆ°çš„æ ·å¼æ–‡ä»¶çš„å¤„ç†æ˜¯é…ç½®åœ¨å…¬å…±æ–‡ä»¶ä¸­çš„ã€‚è¿™åœ¨å¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨<code>style-loader</code>æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯å¦‚æœæ˜¯åœ¨çº¿ä¸Šç¯å¢ƒä¸­ï¼Œè¿™ä¸ªloaderä¼šå°†æ ·å¼ç›´æ¥æ’å…¥åˆ°jsæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆéœ€è¦ç›´æ¥jsä»£ç æ‰èƒ½å°†æ ·å¼è§£æå‡ºæ¥ï¼Œè¿™ä¸ªæ˜¯æœ‰é—®é¢˜çš„ã€‚æ‰€ä»¥éœ€è¦å¯¹æ­¤è¿›è¡Œä¼˜åŒ–ã€‚</p> <ol><li>åˆ é™¤å…¬å…±é…ç½®ä¸­çš„æ ·å¼å¤„ç†çš„<code>loader</code>ï¼Œåœ¨å„è‡ªçš„é…ç½®æ–‡ä»¶ä¸­å»é…ç½®ã€‚</li> <li>å¼€å‘é…ç½®æ–‡ä»¶ä¸­æ˜¯å’Œä¹‹å‰çš„å…¬å…±é…ç½®æ–‡ä»¶ä¿æŒä¸€è‡´ã€‚</li> <li>çº¿ä¸Šç¯å¢ƒéœ€è¦å¯¹æ ·å¼æ–‡ä»¶è¿›è¡ŒæŠ½ç¦»å’Œå‹ç¼©</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥ä¸‰ä¸ªæ’ä»¶</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> TerserJSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> OptimizeCSSAssetsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'optimize-css-assets-webpack-plugin'</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// æŠ½ç¦» css</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span>
        MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>  <span class="token comment">// æ³¨æ„ï¼Œè¿™é‡Œä¸å†ç”¨ style-loader</span>
        <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'postcss-loader'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// æŠ½ç¦» less --&gt; css</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span>
        MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>  <span class="token comment">// æ³¨æ„ï¼Œè¿™é‡Œä¸å†ç”¨ style-loader</span>
        <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'postcss-loader'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ä¼šé»˜è®¤æ¸…ç©º output.path æ–‡ä»¶å¤¹</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// window.ENV = 'production'</span>
    <span class="token constant">ENV</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'production'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// æŠ½ç¦» css æ–‡ä»¶</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'css/main.[contentHash:8].css'</span> <span class="token comment">// æ‰“åŒ…åå­˜æ”¾çš„è·¯å¾„ä»¥åŠæ–‡ä»¶åç§°</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>

optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‹ç¼© css</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æŠ½ç¦»å…¬å…±ä»£ç å’Œç¬¬ä¸‰æ–¹ä»£ç "><a href="#æŠ½ç¦»å…¬å…±ä»£ç å’Œç¬¬ä¸‰æ–¹ä»£ç " class="header-anchor">#</a> æŠ½ç¦»å…¬å…±ä»£ç å’Œç¬¬ä¸‰æ–¹ä»£ç </h3> <p>æŠ½ç¦»ä»£ç æ˜¯å¯¹äºçº¿ä¸Šç¯å¢ƒè€Œè¨€çš„ï¼Œå¼€å‘ç¯å¢ƒä¸éœ€è¦è¿™äº›æ“ä½œã€‚æŠ½ç¦»å…¬å…±ä»£ç åˆ°ä¸€ä¸ªå•ç‹¬çš„<code>chunk</code>ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…åJSä»£ç çš„ä½“ç§¯ï¼Œä¼˜åŒ–è¯·æ±‚çš„é€Ÿåº¦ã€‚å¯¹äºç¬¬ä¸‰æ–¹ä»£ç ï¼Œç”±äºç¬¬ä¸‰æ–¹æ’ä»¶çš„ç‰ˆæœ¬ä¸ä¼šè¢«ç»å¸¸æ”¹åŠ¨ï¼Œæ‰€ä»¥å¯ä»¥å°†ç¬¬ä¸‰æ–¹ä»£ç æŠ½ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„chunkï¼Œä»£ç ä¸å˜ï¼Œå¯ä»¥å‘½ä¸­ç¼“å­˜ï¼Œä¼˜åŒ–å‰ç«¯æ€§èƒ½ã€‚</p> <p>åœ¨çº¿ä¸Šç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </p> <ol><li>åˆ†å‰²ä»£ç å—</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‹ç¼© css</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// åˆ†å‰²ä»£ç å—</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
        chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token comment">// initial å…¥å£ chunkï¼Œå¯¹äºå¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶ä¸å¤„ç†</span>
        <span class="token comment">// async å¼‚æ­¥ chunkï¼Œåªå¯¹å¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶å¤„ç†</span>
        <span class="token comment">// all å…¨éƒ¨ chunk</span>

        <span class="token comment">// ç¼“å­˜åˆ†ç»„</span>
        cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ç¬¬ä¸‰æ–¹æ¨¡å—</span>
            vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token comment">// chunk åç§°</span>
                priority<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// æƒé™æ›´é«˜ï¼Œä¼˜å…ˆæŠ½ç¦»ï¼Œé‡è¦ï¼ï¼ï¼</span>
                test<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
                minSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// å¤§å°é™åˆ¶(æ ¹æ®é¡¹ç›®è‡ªå·±å®šåˆ¶)</span>
                minChunks<span class="token operator">:</span> <span class="token number">1</span>  <span class="token comment">// æœ€å°‘å¤ç”¨è¿‡å‡ æ¬¡</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// å…¬å…±çš„æ¨¡å—ï¼ˆè¢«å¤šä¸ªæ–‡ä»¶importåä½¿ç”¨ï¼‰</span>
            common<span class="token operator">:</span> <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">'common'</span><span class="token punctuation">,</span> <span class="token comment">// chunk åç§°</span>
                priority<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// ä¼˜å…ˆçº§</span>
                minSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// å…¬å…±æ¨¡å—çš„å¤§å°é™åˆ¶(æ ¹æ®é¡¹ç›®è‡ªå·±å®šåˆ¶)</span>
                minChunks<span class="token operator">:</span> <span class="token number">2</span>  <span class="token comment">// å…¬å…±æ¨¡å—æœ€å°‘å¤ç”¨è¿‡å‡ æ¬¡</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>ä¿®æ”¹htmlå¼•ç”¨çš„chunks</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// new HtmlWebpackPlugin({</span>
  <span class="token comment">//     template: path.join(srcPath, 'index.html'),</span>
  <span class="token comment">//     filename: 'index.html'</span>
  <span class="token comment">// })</span>

  <span class="token comment">// å¤šå…¥å£ - ç”Ÿæˆ index.html</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token comment">// chunks è¡¨ç¤ºè¯¥é¡µé¢è¦å¼•ç”¨å“ªäº› chunk ï¼ˆå³ä¸Šé¢çš„ index å’Œ otherï¼‰ï¼Œé»˜è®¤å…¨éƒ¨å¼•ç”¨</span>
    chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token string">'common'</span><span class="token punctuation">]</span>  <span class="token comment">// è¦è€ƒè™‘ä»£ç åˆ†å‰²</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// å¤šå…¥å£ - ç”Ÿæˆ other.html</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>srcPath<span class="token punctuation">,</span> <span class="token string">'other.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'other.html'</span><span class="token punctuation">,</span>
    chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'other'</span><span class="token punctuation">,</span> <span class="token string">'common'</span><span class="token punctuation">]</span>  <span class="token comment">// è€ƒè™‘ä»£ç åˆ†å‰²</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="header-anchor">#</a> æ‡’åŠ è½½</h3> <p>å¯¹äºä¸€ä¸ªæ¯”è¾ƒå¤§çš„JSæ–‡ä»¶è¿›è¡Œæ‡’åŠ è½½ï¼Œåªéœ€è¦ä½¿ç”¨<code>import()</code>è¯­æ³•å³å¯ã€‚æ‡’åŠ è½½ä¸éœ€è¦å¯¹``webpack<code>è¿›è¡Œå¤šä½™çš„é…ç½®ï¼Œ</code>webpack`æ˜¯åŸç”Ÿæ”¯æŒçš„ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// dynamic-data.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'this is dynamic data'</span>
<span class="token punctuation">}</span>


<span class="token comment">// index.js</span>
<span class="token comment">// å¼•å…¥åŠ¨æ€æ•°æ® --- æ‡’åŠ è½½</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./dynamic-data'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>default<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token comment">// æ³¨æ„è¿™ä¸ªdefault</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰“åŒ…æ„å»ºçš„è¯ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªbundleæ–‡ä»¶ã€‚å¦‚ï¼š<code>2.5d716347.js</code></p> <p>å¦‚ä¸Šä»£ç ï¼Œè¿è¡Œ1.5ç§’åæ‰ä¼šå»è¯·æ±‚è¿™ä¸ªjsæ–‡ä»¶</p> <h3 id="å¤„ç†jsxå’Œvue"><a href="#å¤„ç†jsxå’Œvue" class="header-anchor">#</a> å¤„ç†JSXå’ŒVue</h3> <p>å¤„ç†<code>JSX</code>ä½¿ç”¨<code>babel</code>ä¸­çš„<a href="https://babeljs.io/docs/en/babel-preset-react" target="_blank" rel="noopener noreferrer"><code>@babel/preset-react</code><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>å¤„ç†Vueéœ€è¦é…ç½®<code>webpack</code>ï¼Œæ·»åŠ <code>vue-loaders</code></p> <h2 id="ä¸‰ã€module-chunk-bundleçš„åŒºåˆ«"><a href="#ä¸‰ã€module-chunk-bundleçš„åŒºåˆ«" class="header-anchor">#</a> ä¸‰ã€moduleï¼Œchunkï¼Œbundleçš„åŒºåˆ«</h2> <ul><li>moduleï¼šå„ä¸ªæºç æ–‡ä»¶ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ¨¡å—</li> <li>chunkï¼šå¤šæ¨¡å—åˆå¹¶æˆçš„ï¼Œå¦‚<code>entry</code>,<code>import</code>,<code>splitchunk</code></li> <li>bundle: æœ€ç»ˆçš„è¾“å‡ºæ–‡ä»¶</li></ul> <h2 id="å››ã€webpackçš„æ€§èƒ½ä¼˜åŒ–"><a href="#å››ã€webpackçš„æ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> å››ã€webpackçš„æ€§èƒ½ä¼˜åŒ–</h2> <blockquote><p>å¼€å‘å’Œçº¿ä¸Šç¯å¢ƒå‡å¯ç”¨çš„æ–¹æ³•</p></blockquote> <h3 id="ä¼˜åŒ–babel-loader"><a href="#ä¼˜åŒ–babel-loader" class="header-anchor">#</a> ä¼˜åŒ–<code>babel-loader</code></h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    include<span class="token operator">:</span> srcPath<span class="token punctuation">,</span>
    <span class="token comment">// exclude: /node_modules/</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>åŠ ä¸Š<code>cacheDirectory</code>ï¼Œå½“ä»£ç æ²¡æœ‰ä¿®æ”¹ï¼Œå†æ¬¡ä½¿ç”¨<code>babel</code>è§£ææ—¶ï¼Œä¼šä½¿ç”¨ç¼“å­˜ã€‚</p> <h3 id="ignorepluginå¿½ç•¥æŸäº›æ¨¡å—"><a href="#ignorepluginå¿½ç•¥æŸäº›æ¨¡å—" class="header-anchor">#</a> IgnorePluginå¿½ç•¥æŸäº›æ¨¡å—</h3> <p>ä¾‹å¦‚é¡¹ç›®ä¸­ä½¿ç”¨äº†<code>momonet</code>è¿™ä¸ªæ—¥æœŸğŸ“…åº“ã€‚ä½†æ˜¯è¿™ä¸ªåº“çš„ä½“ç§¯æ˜¯å¾ˆå¤§çš„ï¼Œæœ‰360å¤škbï¼Œå‹ç¼©åä¹Ÿæœ‰60å¤škbã€‚æ˜¯å› ä¸ºè¿™ä¸ªåº“çš„è¯­è¨€åŒ…å¾ˆå¤šå¯¼è‡´ä½“ç§¯å¾ˆå¤§ã€‚æ‰€ä»¥å¯ä»¥å¿½ç•¥è¿™ä¸ªæ¨¡å—ï¼Œä½¿ç”¨æ—¶åªå¼•å…¥éœ€è¦çš„è¯­è¨€åŒ…ï¼Œå¦‚ä¸­æ–‡å’Œè‹±æ–‡ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// åœ¨çº¿ä¸Šé…ç½®æ–‡ä»¶çš„pluginä¸­æ·»åŠ </span>
<span class="token comment">// å¿½ç•¥ moment ä¸‹çš„ /locale ç›®å½•</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex">/\.\/locale/</span><span class="token punctuation">,</span> <span class="token regex">/moment/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">// å¼•å…¥éœ€è¦çš„è¯­è¨€åŒ…</span>
<span class="token keyword">import</span> <span class="token string">'moment/locale/zh-cn'</span>
</code></pre></div><h3 id="noparseé¿å…é‡å¤æ‰“åŒ…"><a href="#noparseé¿å…é‡å¤æ‰“åŒ…" class="header-anchor">#</a> noParseé¿å…é‡å¤æ‰“åŒ…</h3> <p>ä¾‹å¦‚ï¼Œå¯¹å®Œæ•´çš„<code>react.min.js</code>æ–‡ä»¶å°±æ²¡æœ‰å¿…è¦é‡‡ç”¨æ¨¡å—åŒ–ï¼Œå¿½ç•¥å¯¹è¿™ç±»æ–‡ä»¶çš„é€’å½’è§£æå¤„ç†</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    noParse<span class="token operator">:</span> <span class="token regex">/jquery|lodash/</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="happypackå¤šè¿›ç¨‹æ‰“åŒ…"><a href="#happypackå¤šè¿›ç¨‹æ‰“åŒ…" class="header-anchor">#</a> happyPackå¤šè¿›ç¨‹æ‰“åŒ…</h3> <p>JSæ—¶å•çº¿ç¨‹ï¼Œä½¿ç”¨happyPackå¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…ï¼Œä¸»è¦æ˜¯ç”¨äº<code>loader</code></p> <p>ä¾‹å¦‚ä½¿ç”¨happyPackå¼€å¯å¤šçº¿ç¨‹å¯¹<code>babel-loader</code>è§£æè¿›è¡ŒåŠ é€Ÿã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// js</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
    <span class="token comment">// æŠŠå¯¹ .js æ–‡ä»¶çš„å¤„ç†è½¬äº¤ç»™ id ä¸º babel çš„ HappyPack å®ä¾‹</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'happypack/loader?id=babel'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    include<span class="token operator">:</span> srcPath<span class="token punctuation">,</span>
    <span class="token comment">// exclude: /node_modules/</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>


plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// happyPack å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</span>
  <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦ id æ¥ä»£è¡¨å½“å‰çš„ HappyPack æ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span>
    id<span class="token operator">:</span> <span class="token string">'babel'</span><span class="token punctuation">,</span>
    <span class="token comment">// å¦‚ä½•å¤„ç† .js æ–‡ä»¶ï¼Œç”¨æ³•å’Œ Loader é…ç½®ä¸­ä¸€æ ·</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="paralleluglifypluginå¤šè¿›ç¨‹å‹ç¼©"><a href="#paralleluglifypluginå¤šè¿›ç¨‹å‹ç¼©" class="header-anchor">#</a> ParallelUglifyPluginå¤šè¿›ç¨‹å‹ç¼©</h3> <p>æ¨èåœ¨çº¿ä¸Šç¯å¢ƒä¸Šä½¿ç”¨ï¼›æœ¬åœ°å¼€å‘ä¸æ¨èï¼Œä¸éœ€è¦å»å‹ç¼©ä»£ç ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä½¿ç”¨ ParallelUglifyPlugin å¹¶è¡Œå‹ç¼©è¾“å‡ºçš„ JS ä»£ç </span>
<span class="token keyword">new</span> <span class="token class-name">ParallelUglifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ä¼ é€’ç»™ UglifyJS çš„å‚æ•°</span>
  <span class="token comment">// ï¼ˆè¿˜æ˜¯ä½¿ç”¨ UglifyJS å‹ç¼©ï¼Œåªä¸è¿‡å¸®åŠ©å¼€å¯äº†å¤šè¿›ç¨‹ï¼‰</span>
  uglifyJS<span class="token operator">:</span> <span class="token punctuation">{</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
      beautify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æœ€ç´§å‡‘çš„è¾“å‡º</span>
      comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„æ³¨é‡Š</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    compress<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„ `console` è¯­å¥ï¼Œå¯ä»¥å…¼å®¹ieæµè§ˆå™¨</span>
      drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// å†…åµŒå®šä¹‰äº†ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡</span>
      collapse_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// æå–å‡ºå‡ºç°å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼</span>
      reduce_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>åªèƒ½åœ¨å¼€å‘ç¯å¢ƒä¸Šä½¿ç”¨çš„ä¼˜åŒ–æ–¹æ³•</p></blockquote> <h4 id="æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°"><a href="#æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°" class="header-anchor">#</a> æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°</h4> <p>å¼€å‘ç¯å¢ƒä½¿ç”¨äº†<code>devServer</code>åï¼Œè‡ªåŠ¨å¼€å¯äº†è‡ªåŠ¨åˆ·æ–°</p> <h4 id="çƒ­æ›´æ–°"><a href="#çƒ­æ›´æ–°" class="header-anchor">#</a> çƒ­æ›´æ–°</h4> <p>ä½¿ç”¨<code>HotModuleReplacementPlugin</code>è¿™ä¸ªæ’ä»¶ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼Œé™¤äº†åœ¨webpackä¸­é…ç½®ï¼Œè¿˜éœ€è¦åœ¨ä»£ç ä¸­è¿›è¡Œåˆ¤æ–­ã€‚</p> <h4 id="dllpluginåŠ¨æ€é“¾æ¥åº“"><a href="#dllpluginåŠ¨æ€é“¾æ¥åº“" class="header-anchor">#</a> DllPluginåŠ¨æ€é“¾æ¥åº“</h4> <h2 id="äº”ã€webpackä¼˜åŒ–äº§å‡ºä»£ç "><a href="#äº”ã€webpackä¼˜åŒ–äº§å‡ºä»£ç " class="header-anchor">#</a> äº”ã€webpackä¼˜åŒ–äº§å‡ºä»£ç </h2> <h3 id="å°å›¾ç‰‡base64ç¼–ç "><a href="#å°å›¾ç‰‡base64ç¼–ç " class="header-anchor">#</a> å°å›¾ç‰‡base64ç¼–ç </h3> <h3 id="bundleåŠ hash"><a href="#bundleåŠ hash" class="header-anchor">#</a> bundleåŠ hash</h3> <h3 id="æ‡’åŠ è½½-2"><a href="#æ‡’åŠ è½½-2" class="header-anchor">#</a> æ‡’åŠ è½½</h3> <h3 id="æå–å…¬å…±ä»£ç "><a href="#æå–å…¬å…±ä»£ç " class="header-anchor">#</a> æå–å…¬å…±ä»£ç </h3> <h3 id="ignoreplugin"><a href="#ignoreplugin" class="header-anchor">#</a> IgnorePlugin</h3> <h3 id="ä½¿ç”¨cdn"><a href="#ä½¿ç”¨cdn" class="header-anchor">#</a> ä½¿ç”¨CDN</h3> <h3 id="modeä½¿ç”¨production"><a href="#modeä½¿ç”¨production" class="header-anchor">#</a> modeä½¿ç”¨production</h3> <ul><li>è‡ªåŠ¨å¼€å¯ä»£ç å‹ç¼©</li> <li>Vueå’ŒReactä¼šè‡ªåŠ¨åˆ é™¤æ‰è°ƒè¯•ä»£ç ï¼ˆå¦‚å¼€å‘ç¯å¢ƒçš„è­¦å‘Šâš ï¸ï¼‰</li> <li>å¯åŠ¨Tree-Shaking</li></ul> <h3 id="scope-hosting"><a href="#scope-hosting" class="header-anchor">#</a> Scope Hosting</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/8/2020, 4:26:52 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.629c6bf2.js" defer></script><script src="/assets/js/2.ad0e66c6.js" defer></script><script src="/assets/js/54.383dbb40.js" defer></script>
  </body>
</html>
