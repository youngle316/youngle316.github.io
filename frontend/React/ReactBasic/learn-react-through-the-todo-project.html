<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>通过Todo项目学习React理念 | YoungLe的博客</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/favicon.ico">
    <script>
  var _hmt = _hmt || [];
  (function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d87e4e0c080c2c7c4d7316a38a77da04";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);

  // 引入谷歌,不需要可删除这段
  var hm1 = document.createElement("script");
  hm1.src = "https://www.googletagmanager.com/gtag/js?id=UA-131182082-1";
  var s1 = document.getElementsByTagName("script")[0]; 
  s1.parentNode.insertBefore(hm1, s1);
  })();

  // 谷歌加载,不需要可删除
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131182082-1');
</script>
    <meta name="description" content="记录学习路上的点点滴滴">
    <link rel="preload" href="/assets/css/0.styles.d361e2f3.css" as="style"><link rel="preload" href="/assets/js/app.629c6bf2.js" as="script"><link rel="preload" href="/assets/js/2.ad0e66c6.js" as="script"><link rel="preload" href="/assets/js/49.abbde903.js" as="script"><link rel="prefetch" href="/assets/js/10.c0ffe0b9.js"><link rel="prefetch" href="/assets/js/11.46b40780.js"><link rel="prefetch" href="/assets/js/12.1955cb1b.js"><link rel="prefetch" href="/assets/js/13.f097eff3.js"><link rel="prefetch" href="/assets/js/14.4e129755.js"><link rel="prefetch" href="/assets/js/15.0e71b1ea.js"><link rel="prefetch" href="/assets/js/16.85be98a9.js"><link rel="prefetch" href="/assets/js/17.46f015de.js"><link rel="prefetch" href="/assets/js/18.45e9fbec.js"><link rel="prefetch" href="/assets/js/19.95a74ba6.js"><link rel="prefetch" href="/assets/js/20.56f0e072.js"><link rel="prefetch" href="/assets/js/21.c0b811aa.js"><link rel="prefetch" href="/assets/js/22.be004895.js"><link rel="prefetch" href="/assets/js/23.82eff60c.js"><link rel="prefetch" href="/assets/js/24.b6b60dfa.js"><link rel="prefetch" href="/assets/js/25.d5bb115c.js"><link rel="prefetch" href="/assets/js/26.6c11aa82.js"><link rel="prefetch" href="/assets/js/27.c4cba3ac.js"><link rel="prefetch" href="/assets/js/28.52990931.js"><link rel="prefetch" href="/assets/js/29.6e63a1ee.js"><link rel="prefetch" href="/assets/js/3.c3ea725f.js"><link rel="prefetch" href="/assets/js/30.f68283ba.js"><link rel="prefetch" href="/assets/js/31.cd7b6503.js"><link rel="prefetch" href="/assets/js/32.078e3cc0.js"><link rel="prefetch" href="/assets/js/33.5a459caf.js"><link rel="prefetch" href="/assets/js/34.94c83e7c.js"><link rel="prefetch" href="/assets/js/35.4b213bce.js"><link rel="prefetch" href="/assets/js/36.f5989a74.js"><link rel="prefetch" href="/assets/js/37.dd926546.js"><link rel="prefetch" href="/assets/js/38.4c6f895c.js"><link rel="prefetch" href="/assets/js/39.1cb49a1d.js"><link rel="prefetch" href="/assets/js/4.ac3fc361.js"><link rel="prefetch" href="/assets/js/40.7a87e8f5.js"><link rel="prefetch" href="/assets/js/41.613d39a5.js"><link rel="prefetch" href="/assets/js/42.4ab2e12c.js"><link rel="prefetch" href="/assets/js/43.fc8222f1.js"><link rel="prefetch" href="/assets/js/44.2d3bea1f.js"><link rel="prefetch" href="/assets/js/45.dc246fc9.js"><link rel="prefetch" href="/assets/js/46.c3f86c8c.js"><link rel="prefetch" href="/assets/js/47.8c2c8d66.js"><link rel="prefetch" href="/assets/js/48.5b91a7ec.js"><link rel="prefetch" href="/assets/js/5.8bdee998.js"><link rel="prefetch" href="/assets/js/50.529b4707.js"><link rel="prefetch" href="/assets/js/51.c1763533.js"><link rel="prefetch" href="/assets/js/52.e983b1a9.js"><link rel="prefetch" href="/assets/js/53.3a93daf1.js"><link rel="prefetch" href="/assets/js/54.383dbb40.js"><link rel="prefetch" href="/assets/js/55.43d8cf91.js"><link rel="prefetch" href="/assets/js/56.e6b9abcb.js"><link rel="prefetch" href="/assets/js/57.25f621c7.js"><link rel="prefetch" href="/assets/js/58.0b1033a7.js"><link rel="prefetch" href="/assets/js/59.64369cad.js"><link rel="prefetch" href="/assets/js/6.20333e49.js"><link rel="prefetch" href="/assets/js/60.8aa5d351.js"><link rel="prefetch" href="/assets/js/61.a4e16b59.js"><link rel="prefetch" href="/assets/js/62.83617c90.js"><link rel="prefetch" href="/assets/js/63.c8044b1b.js"><link rel="prefetch" href="/assets/js/64.d3bb512a.js"><link rel="prefetch" href="/assets/js/7.3fe3726c.js"><link rel="prefetch" href="/assets/js/8.9fd983d7.js"><link rel="prefetch" href="/assets/js/9.98e3183d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d361e2f3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YoungLe的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/interview.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/js/deep-copy.html" class="nav-link">
  前端三叉戟
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ES6/es6-basic.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Webpack/webpack-config.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/typescript-basic-type.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/Array/26-Remove-Duplicates-from-Sorted-Array.html" class="nav-link">
  数组
</a></li></ul></div></div><div class="nav-item"><a href="/handwriting/" class="nav-link">
  手写系列
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hackintosh/use-hackintool-custom-made-usb3.0.html" class="nav-link">
  黑苹果
</a></li><li class="dropdown-item"><!----> <a href="/blog/technology/use-hexo-build-blog.html" class="nav-link">
  技术
</a></li><li class="dropdown-item"><!----> <a href="/blog/skill/add-eslint-prettier-for-react.html" class="nav-link">
  技巧
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/youngle316" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人项目" class="dropdown-title"><span class="title">个人项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人项目" class="mobile-dropdown-title"><span class="title">个人项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youngle316/ASRock-Z370M-ITX-AC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Z370-itx Hackintosh
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/interview.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/frontend/JavaScript/js/deep-copy.html" class="nav-link">
  前端三叉戟
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ES6/es6-basic.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/Webpack/webpack-config.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/typescript-basic-type.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  性能优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/Array/26-Remove-Duplicates-from-Sorted-Array.html" class="nav-link">
  数组
</a></li></ul></div></div><div class="nav-item"><a href="/handwriting/" class="nav-link">
  手写系列
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="博客" class="mobile-dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hackintosh/use-hackintool-custom-made-usb3.0.html" class="nav-link">
  黑苹果
</a></li><li class="dropdown-item"><!----> <a href="/blog/technology/use-hexo-build-blog.html" class="nav-link">
  技术
</a></li><li class="dropdown-item"><!----> <a href="/blog/skill/add-eslint-prettier-for-react.html" class="nav-link">
  技巧
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/youngle316" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人项目" class="dropdown-title"><span class="title">个人项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人项目" class="mobile-dropdown-title"><span class="title">个人项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/youngle316/ASRock-Z370M-ITX-AC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Z370-itx Hackintosh
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html" aria-current="page" class="active sidebar-link">通过Todo项目学习React理念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html#一-项目搭建" class="sidebar-link">一 项目搭建</a></li><li class="sidebar-sub-header"><a href="/frontend/React/ReactBasic/learn-react-through-the-todo-project.html#二-react理念" class="sidebar-link">二 React理念</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React Hook</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React Native</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="通过todo项目学习react理念"><a href="#通过todo项目学习react理念" class="header-anchor">#</a> 通过Todo项目学习React理念</h1> <blockquote><p>React是一个为数据提供渲染为HTML视图的开源JavaScript 库。它也是前端下载量最多的一个框架。React的目的就是使用JavaScript创建大型的，快速响应的网络应用。为了更好的学习React，React理念（英文是Thinking In React）的掌握就显得至关重要。在这篇文章中，通过一个Todo项目来一步一步的学习React理念。</p></blockquote> <h2 id="一-项目搭建"><a href="#一-项目搭建" class="header-anchor">#</a> 一 项目搭建</h2> <h3 id="_1-介绍"><a href="#_1-介绍" class="header-anchor">#</a> 1 介绍</h3> <p>这个项目的脚手架工具使用的是：<code>create-react-app</code>，<a href="https://facebook.github.io/create-react-app/docs/getting-started" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>它有以下几个优点：</p> <ul><li>零配置创建React应用</li> <li>对前端资源JS，CSS，图片等提供了资源构建打包功能</li> <li>有自动刷新，代理转发，单元测试等来提高开发效率</li></ul> <h3 id="_2-使用"><a href="#_2-使用" class="header-anchor">#</a> 2 使用</h3> <p>使用<code>create-react-app</code>创建一个新的项目可以使用<code>npx</code>，<code>npm</code>，<code>yarn</code>等，使用<code>npx</code>时需要<code>npm</code>的版本大于5.2</p> <p>这里只介绍npx的使用方式，其他的方式可以查看官方文档</p> <h4 id="npx"><a href="#npx" class="header-anchor">#</a> npx</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>npx create-react-app my-app
</code></pre></div><p><code>my-app</code>指项目名称</p> <p>创建完成后可以通过<code>npm start</code>来打开新创建的应用。</p> <h4 id="eslint"><a href="#eslint" class="header-anchor">#</a> ESLint</h4> <p>可以通过这篇<a href="https://younglele.cn/blog/skill/add-eslint-prettier-for-react.html" target="_blank" rel="noopener noreferrer">文章<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，使用<code>ESLint</code>和<code>Prettier</code>来规范代码的书写。</p> <hr> <h2 id="二-react理念"><a href="#二-react理念" class="header-anchor">#</a> 二 React理念</h2> <p><a href="https://reactjs.org/docs/thinking-in-react.html" target="_blank" rel="noopener noreferrer">Thinking In React<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Todo项目的代码可从这里进行<a href="https://github.com/youngle316/todo_react" target="_blank" rel="noopener noreferrer">查看与下载<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="start-with-a-mock"><a href="#start-with-a-mock" class="header-anchor">#</a> Start With A Mock</h3> <blockquote><p><strong>从模拟页面开始</strong></p></blockquote> <p>想象我们已经有一个设计师给我们的原型图。原型图如下所示：</p> <p><img src="https://s2.ax1x.com/2019/04/06/AWWErt.png" alt="Todo原型图"></p> <h3 id="step-1-break-the-ui-into-a-component-hierarchy"><a href="#step-1-break-the-ui-into-a-component-hierarchy" class="header-anchor">#</a> Step 1: Break The UI Into A Component Hierarchy</h3> <blockquote><p><strong>第一步：把UI划分出组件层级</strong></p></blockquote> <p>第一件要做的事情是用方框划分出每一个组件(和子组件)并给他们命名。</p> <p><strong>组件划分的原则：</strong></p> <ul><li>解耦：降低单一模块/组件的复杂度</li> <li>复用：保证组件一致性，提升开发效率</li> <li>组件颗粒度需要避免过大或过小</li></ul> <p><img src="https://s2.ax1x.com/2019/04/06/AWhN34.png" alt="组件的划分"></p> <p>如上图所示，这个Todo项目有5个组件。</p> <p>App(蓝色)：包含了整个项目。</p> <p>AddTodo(红色)：接受用户的输入并进行添加。</p> <p>TodoList(橙色)：展示整个待办事项列表。</p> <p>TodoItem(绿色)：表示每一个待办事项，并有完成和未完成的两种样式。</p> <p>Footer(粉色)：用来过滤完成与未完成的列表。</p> <h3 id="step-2-build-a-static-version-in-react"><a href="#step-2-build-a-static-version-in-react" class="header-anchor">#</a> Step 2: Build A Static Version in React</h3> <blockquote><p><strong>第二步：用React创建一个静态版本</strong></p></blockquote> <p>第二步就是去实现你的应用了，去创建一个静态版本。传入数据模型，渲染UI但是没有任何交互。</p> <ul><li>创建静态版本使用props来传递数据，不能使用state</li> <li>可以自顶向下或自底向上的构建应用。在简单的项目中，推荐使用自顶向下的方式</li></ul> <h3 id="step-3-identify-the-minimal-but-complete-representation-of-ui-state"><a href="#step-3-identify-the-minimal-but-complete-representation-of-ui-state" class="header-anchor">#</a> Step 3: Identify The Minimal (but complete) Representation Of UI State</h3> <blockquote><p><strong>第三步：定义UI最小（但完整的）表示</strong></p></blockquote> <p>其实第三步就是去设计项目中的state。因为为了使项目进行UI交互，就需要触发能够对底层数据模型的更改，这时候就需要state了。</p> <p>**state是代表UI的完整且最小的状态集合。**所以在定义State时，首先这个state是代表UI的，如定义了一个定时器state，它不是UI，所以不能当作state；其次这个state是一种状态，这种状态是可变的，如果这个state是一成不变的，也就不能把它定义成state。</p> <p>如果项目中有多个数据，但是不确定能不能将其定义为state。那么可以考虑这三个问题：</p> <ul><li>它是通过 props 从父级传来的吗？如果是，他可能不是 state。</li> <li>它随着时间推移不变吗？如果是，它可能不是 state。</li> <li>你能够根据组件中任何其他的 state 或 props 把它计算出来吗？如果是，它不是 state。</li></ul> <p>所以，这个Todo项目最后的state是：</p> <ul><li>待办事项列表</li> <li>新增输入框中的文本</li> <li>当前筛选条件</li></ul> <h3 id="step-4-identify-where-your-state-should-live"><a href="#step-4-identify-where-your-state-should-live" class="header-anchor">#</a> Step 4: Identify Where Your State Should Live</h3> <blockquote><p><strong>第四步：定义你的State存放的位置</strong></p></blockquote> <p>state的双层含义：</p> <ol><li>代表应用UI的所有状态的集合</li> <li>状态集合中的每一部分（待办事项列表、新增输入框中的文本、当前筛选条件）</li></ol> <p>第四步中的state指的是第二个含义。在不同语境下，要理解state的不同含义。</p> <p>分析state的保存位置的步骤：</p> <ul><li>确定依赖state的每一个组件</li> <li>如果某个state被多个组件依赖，寻找共同的父组件。也叫<a href="https://react.docschina.org/docs/lifting-state-up.html" target="_blank" rel="noopener noreferrer">状态提升<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>如果你没有找到可以拥有这个 state 的组件，创建一个仅用来保存状态的组件并把它加入比这个公共所有者组件层级更高的地方。</li></ul> <p>所以根据上面的步骤，可以判断出该项目的state的存放位置</p> <ul><li>待办事项列表：<code>todos</code>。TodoList和AddTodo组件都会依赖，所以定义在<strong>App组件</strong>中。</li> <li>新增输入框中的文本：<code>text</code>。只有AddTodo组件依赖，所以定义在<strong>AddTodo组件</strong>中。</li> <li>当前筛选条件：<code>filter</code>。TodoList和Footer组件都会依赖，所以定义在<strong>App组件</strong>中。</li></ul> <h3 id="step-5-add-inverse-data-flow"><a href="#step-5-add-inverse-data-flow" class="header-anchor">#</a> Step 5: Add Inverse Data Flow</h3> <blockquote><p><strong>第五步：添加反向数据流</strong></p></blockquote> <p>通过props，添加反向数据流，实现交互行为的添加。</p> <p>在这个项目中，需要添加的交互行为有：</p> <ul><li>新增todo</li> <li>修改todo状态</li> <li>过滤显示</li></ul> <h3 id="and-that-s-it"><a href="#and-that-s-it" class="header-anchor">#</a> And That’s It</h3> <blockquote><p><strong>就是这样</strong></p></blockquote> <p>到这里就结束了，从上面的五步中了解了如何使用React构建组件和应用程序。虽然这可能会比以前编写更多的代码，但请记住，代码是用来读的，这比写更重要，并且非常容易阅读这个模块化的，思路清晰的代码。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/8/2020, 6:03:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/frontend/React/ReactHook/state-hook.html">
        React-Hook 之 State Hook
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.629c6bf2.js" defer></script><script src="/assets/js/2.ad0e66c6.js" defer></script><script src="/assets/js/49.abbde903.js" defer></script>
  </body>
</html>
